var Spring=function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;class l extends t.Component{constructor(e){super(e),this._ref=t.createRef()}componentDidMount(){a.call(this,null)}componentDidUpdate(e){let t;e.style!==this.props.style&&(Object.keys(e.style).forEach(n=>{t=e.style[n],this.props.style.hasOwnProperty(n)||t.instance.removeCallbackWithKey(n)}),a.call(this,t))}componentWillUnmount(){let e;Object.keys(this.props.style).forEach(t=>{"function"==typeof(e=this.props.style[t]).run&&e.instance.removeCallbackWithKey(t)})}render(){const e=this.props,{animatedProps:n,children:r,forwaredRef:s,style:l,type:a}=e,u=o(e,["animatedProps","children","forwaredRef","style","type"]);return t.createElement(a,i({},u,{style:c(l),ref:e=>{s&&(s.current=e),this._ref.current=e}}),r)}}function a(e){Object.keys(this.props.style).forEach(t=>{"function"==typeof(e=this.props.style[t]).run&&e.instance.addCallbackWithKey(t,e.run(this._ref.current,t))})}function c(e){return Object.keys(e).reduce((t,n)=>("string"==typeof e[n]&&(t[n]=e[n]),t),{})}const u={};var f=new Proxy(l,{get:(e,n)=>u[n]||(u[n]=t.forwardRef((e,s)=>{let{children:i}=e,a=o(e,["children"]);return t.createElement(l,r({forwaredRef:s,type:n},a),i)}))});class p{get length(){return this._keys.length}get config(){return this._config}constructor(e,t){this._callbacks=new Map,this._keys=[],this._values={},this._config=i({initialVelocity:0,friction:26,mass:1,precision:.01,tension:170,onEnd:h},t);for(let t in e)this._values[t]={done:!1,toValue:e[t],lastPosition:e[t],lastTime:void 0,lastVelocity:void 0},this._keys.push(t)}removeCallbackWithKey(e){this._callbacks.delete(e)}addCallbackWithKey(e,t){this._callbacks.set(e,t)}onEnd(){this._config.onEnd()}updateValue(){for(let[e,t]of this._callbacks)t(this._values)}set(e){for(let t in e)this._values.hasOwnProperty(t)&&this._values[t]!==e[t]&&(this._values[t]=i({},this._values[t],{done:!1,lastVelocity:void 0,toValue:e[t]}))}get(e){return this._values[e].lastPosition}pause(){for(let e in this._values)this._values[e]=i({},this._values[e],{done:!0})}resume(){for(let e in this._values)this._values[e]=i({},this._values[e],{done:!1})}getValues(e){return this._values[this._keys[e]]}}function h(){}class y{static getInstance(){return y._instance||(y._instance=new y)}constructor(){n(this,"update",()=>{let e,t,n=Date.now();for(let r=0;r<y.QUEUE.length;r++){const s=y.QUEUE[r];let i=s.config;t=!0;for(let r=0;r<s.length;r++){const o=s.getValues(r);if(o.done)continue;t=!1;let l=o.toValue,a=o.lastPosition,c=i.initialVelocity;e=void 0!==o.lastTime?o.lastTime:n,c=void 0!==o.lastVelocity?o.lastVelocity:i.initialVelocity,n>e+64&&(e=n);let u=Math.floor(n-e);for(let e=0;e<u;++e){a+=1*(c+=1*((-i.tension*(a-l)+-i.friction*c)/i.mass)/1e3)/1e3}let f=Math.abs(c)<=i.precision,p=Math.abs(l-a)<=i.precision;o.lastVelocity=c,o.lastTime=n,f&&p&&(o.value!==l&&(a=l),o.done=!0),o.lastPosition=a}s.updateValue(),t&&s.onEnd()}requestAnimationFrame(this.update)}),"function"==typeof requestAnimationFrame&&requestAnimationFrame(this.update)}add(e){return e instanceof p&&y.QUEUE.push(e),this}remove(e){for(let t=0;t<y.QUEUE.length;t++)y.QUEUE[t]===e&&y.QUEUE.splice(t,1);return this}}return n(y,"QUEUE",[]),n(y,"_instance",null),e.Animated=f,e.Animation=p,e.AnimationManager=y,e.interpolate=function(e,t){return{instance:e,run:(e,n)=>-1===n.indexOf("--")?r=>{e.style[n]=t(r)}:r=>{e.style.setProperty(n,t(r))}}},e.useSpring=function(e,n){const r=t.useRef(null),[s,i]=t.useState(null);return r.current||(r.current=new p(e,n),y.getInstance().add(r.current)),t.useEffect(()=>()=>{y.getInstance().remove(r.current)},[]),[s||r.current,e=>{r.current.set(e),i(r.current)}]},e}({},React);